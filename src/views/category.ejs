<%- include('header') -%>

<h1>Spurningar í <%= title %></h1>

<% if (questions.length === 0) { %>
  <p>Engar spurningar í þessum flokki.</p>
<% } else { %>
  <% questions.forEach(question => { %>
    <div class="question">
      <h3><%= question.text %></h3>
      <ul>
        <% question.answers.forEach(answer => { %>
          <li>
            <button onclick="checkAnswer('<%= answer.id %>', '<%= answer.correct %>')">
              <%= answer.text %>
            </button>
          </li>
        <% }) %>
      </ul>
      <p id="answer-<%= question.id %>" style="display:none; color: green;">
        Rétt svar: <%= question.answers.find(a => a.correct).text %>
      </p>
    </div>
  <% }) %>
<% } %>

<script>
  function checkAnswer(answerId, isCorrect) {
    const answerElement = document.getElementById('answer-' + answerId);
    if (isCorrect) {
      alert('Rétt svar!');
      answerElement.style.display = 'block';
    } else {
      alert('Rangt svar! Reyndu aftur.');
    }
  }
</script>

<%- include('footer') -%>
